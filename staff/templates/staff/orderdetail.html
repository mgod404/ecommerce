<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Orders</title>
  
  {% load static %}
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script src="{% static 'staff/orderdetail.js' %}"></script> 

</head>
<body>
    <div class='container'>

        <div class='card m-3'>
            <h3 class='card-title'>Ordered Items</h3>

                        {% for product in object_list %}
                            <div class='card d-flex flex-row justify-content-center align-items-center m-1'>
                                <div class='col text-center'>{{product.product}}</div>
                                {% csrf_token %}
                                <div class='col'>
                                    <input 
                                        name='quantity' 
                                        id='{{product.product_id}}' 
                                        value='{{product.quantity}}'>
                                </div>
                                <div class='col text-center'><button class="btn btn-primary mt-3 m-3" onClick='updateQuantity({{product.product_id}})'>Update Value</button></div>
                            </div>
                        {% empty %}
                        <card scope="row">Empty</card>
                        {% endfor %}

                <button onClick="window.location.reload();" class="btn btn-primary mt-3 m-3">Refresh Form</button>
        </div>
        
        <div class='card m-3 p-3'>
            <form action='/staff/home/orders/{{order_details.id}}/update_order_address' method='Post'>
                <label>Total Price</label>
                <input class="form-control" value='{{order_details.total_price}}' disabled>
                <label>Date of Order</label>
                <input class="form-control" value='{{order_details.date_of_order}}' disabled>
                <label>Email</label>
                <input class="form-control" value='{{order_details.email}}'>
                <label>Name</label>
                <input class="form-control" value='{{order_details.name}}'>
                <label>Surname</label>
                <input class="form-control" value='{{order_details.surname}}'>
                <label>Address</label>
                <input class="form-control" value='{{order_details.address}}'>
                <label>City</label>
                <input class="form-control" value='{{order_details.city}}'>
                <label>State</label>
                <input class="form-control" value='{{order_details.state}}'>
                <label>Zip Code</label>
                <input class="form-control" value='{{order_details.zip}}'>
                <button type="submit" class="btn btn-primary mt-3">Send Changes</button>
                <button onClick="window.location.reload();" class="btn btn-primary mt-3">Refresh Form</button>
            </form>
        </div>
    </div>
</body>
</html>